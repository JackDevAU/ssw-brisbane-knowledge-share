---
interface Props {
    videoUrl: string;
}

const { videoUrl } = Astro.props;

// Function to get video ID from YouTube URL
function getYouTubeId(url: string) {
    const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
    const match = url.match(regExp);
    return match && match[2].length === 11 ? match[2] : null;
}

const videoId = getYouTubeId(videoUrl);
---

<div class="video-container">
    {videoId && (
        <iframe
            src={`https://www.youtube.com/embed/${videoId}`}
            title="YouTube video player"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
        ></iframe>
    )}
</div>

<style>
    .video-container {
        @apply relative w-full pt-[56.25%] bg-gray-100 rounded-lg overflow-hidden shadow-lg mb-8;
    }

    iframe {
        @apply absolute top-0 left-0 w-full h-full border-0;
    }
</style>